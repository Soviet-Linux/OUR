# basic information about the package
[info]
name = libpng
version = 1.6.37
type = src
license = zlib
url = https://downloads.sourceforge.net/$name/$name-$version.tar.xz

# package description
[description]
A collection of routines used to create PNG format graphics files

# dependencies
[dependencies]
zlib

# build dependencies
[makedeps]
automake
autoconf

[download]
wget $URL
wget https://downloads.sourceforge.net/project/apng/libpng/libpng16/$name-$version-apng.patch.gz
tar -xf $name-$version.tar.xz

# install script
[install]
cd $name-$version
gzip -cd $SRC/$name-$version-apng.patch.gz | patch -p0
LIBS=-lpthread ./configure --prefix=/usr --disable-static
make
make DESTDIR=$BUILD_ROOT install

# post-install script
[special]
echo "libpng is installed"

# installed files
[locations]
usr/bin/libpng-config
usr/bin/libpng16-config
usr/bin/png-fix-itxt
usr/bin/pngfix
usr/include/libpng16/
usr/include/libpng16/png.h
usr/include/libpng16/pngconf.h
usr/include/libpng16/pnglibconf.h
usr/include/png.h
usr/include/pngconf.h
usr/include/pnglibconf.h
usr/lib/libpng.so
usr/lib/libpng16.so
usr/lib/libpng16.so.16
usr/lib/libpng16.so.16.37.0
usr/lib/pkgconfig/libpng.pc
usr/lib/pkgconfig/libpng16.pc
usr/share/man/man3/libpng.3.gz
usr/share/man/man3/libpngpf.3.gz
usr/share/man/man5/png.5.gz